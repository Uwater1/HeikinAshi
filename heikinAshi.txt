--- Optimization Complete ---

Start                     2015-11-16 00:00:00
End                       2025-11-14 00:00:00
Duration                   3651 days 00:00:00
Exposure Time [%]                    88.50895
Equity Final [$]                 465626.94136
Equity Peak [$]                  481433.99526
Commissions [$]                    3743.15734
Return [%]                          365.62694
Buy & Hold Return [%]               226.52065
Return (Ann.) [%]                    16.66394
Volatility (Ann.) [%]                15.82041
CAGR [%]                             11.20119
Sharpe Ratio                          1.05332
Sortino Ratio                         1.76948
Calmar Ratio                          0.87678
Alpha [%]                           240.63632
Beta                                  0.55178
Max. Drawdown [%]                   -19.00585
Avg. Drawdown [%]                    -1.49368
Max. Drawdown Duration      239 days 00:00:00
Avg. Drawdown Duration       16 days 00:00:00
# Trades                                    9
Win Rate [%]                         55.55556
Best Trade [%]                       75.01109
Worst Trade [%]                      -4.07454
Avg. Trade [%]                       18.66842
Max. Trade Duration        1113 days 00:00:00
Avg. Trade Duration         357 days 00:00:00
Profit Factor                        18.41825
Expectancy [%]                       22.01184
SQN                                   1.72862
Kelly Criterion                       0.52023
_strategy                 HeikinAshiWeight...
_equity_curve                             ...
_trades                      Size  EntryBa...
dtype: object

--- Best Parameters ---
  atr_period: 9
  weight_bull_1: 0.27 | weight_bull_2: 0.18
  weight_bull_3: 0.3 | weight_bull_4: 0.48
  weight_bear_1: 0.19 | weight_bear_2: 0.17
  weight_bear_3: 0.13 | weight_bear_4: 0.19
  doji_lookback_bear: 6 | doji_threshold_bear: 0.54
  doji_lookback_bull: 17 | doji_threshold_bull: 0.35
  hammer_atr_factor: 0.54
  weight_bear_momentum: 0.0 | weight_bull_hammer: 0.5
  weight_bull_bonus: 0.12 | weight_bear_bonus: 0.15
  weight_bull_penalty: 0.11 | weight_bear_penalty: 0.04
  stop_atr_mult: 1.5
Plot saved as: HeikinAshi_weighted_2025-12-04.html

=== SAMBO Optimization Analysis ===
Total evaluations: 1803
Best result found: -47.64%

Parameter evolution:
  atr_period: 8.000 -> 20.000
  weight_bull_1: 25.000 -> 35.000
  weight_bull_2: 15.000 -> 30.000
  weight_bull_3: 25.000 -> 35.000
  weight_bull_4: 35.000 -> 50.000
  weight_bear_1: 10.000 -> 25.000
  weight_bear_2: 10.000 -> 25.000
  weight_bear_3: 10.000 -> 25.000
  weight_bear_4: 10.000 -> 25.000
  doji_lookback_bear: 10.000 -> 30.000
  doji_threshold_bear: -8.000 -> -4.000
  doji_lookback_bull: 3.000 -> 8.000
  doji_threshold_bull: 20.000 -> 60.000
  hammer_atr_factor: 10.000 -> 25.000
  weight_bear_momentum: 30.000 -> 60.000
  weight_bull_hammer: 30.000 -> 70.000
  weight_bull_bonus: 0.000 -> 50.000
  weight_bear_bonus: 0.000 -> 60.000
  weight_bull_penalty: 0.000 -> 15.000
  weight_bear_penalty: 0.000 -> 15.000
  stop_atr_mult: 0.000 -> 15.000

Optimization Statistics:
  Total evaluations: 1803
  Best Return [%]: -47.64
  Worst Return [%]: -365.63
  Average Return [%]: -215.02
  Success: True
  Message: Optimization converged (y_prev[n_iter_no_change] - y_best <= tol)

--- Top 100 parameter sets (by Return [%]): (.csv) ---
atr_period,weight_bull_1,weight_bull_2,weight_bull_3,weight_bull_4,weight_bear_1,weight_bear_2,weight_bear_3,weight_bear_4,doji_body_frac,legacy_doji_position,doji_lookback_bear,doji_threshold_bear,doji_lookback_bull,doji_threshold_bull,hammer_atr_factor,weight_bear_momentum,weight_bull_hammer,weight_bull_bonus,weight_bear_bonus,weight_bull_penalty,weight_bear_penalty,stop_atr_mult,Return [%]
9,29,17,30,49,22,16,14,20,19,-6,7,49,16,33,55,0,53,11,15,10,6,150,365.63
9,28,17,30,49,18,17,14,19,18,-6,6,51,14,34,52,0,42,10,15,8,6,150,365.63
9,27,18,30,48,19,17,13,19,20,-6,6,54,17,35,54,0,50,12,15,11,4,150,365.63
9,28,18,29,47,18,17,14,19,20,-6,6,50,14,36,52,0,42,11,15,8,7,150,365.63
9,28,17,30,49,18,19,13,19,19,-6,5,52,14,33,57,0,52,10,15,9,5,150,365.63
9,26,18,31,49,20,20,12,17,20,-6,5,56,18,33,51,0,55,13,15,13,3,150,365.63
10,29,15,31,48,16,19,16,11,14,-6,5,54,15,33,48,0,38,13,15,11,4,150,364.58
10,29,19,32,48,17,19,15,15,20,-6,5,49,17,36,53,0,43,12,15,9,5,150,364.42
10,28,20,32,47,17,21,14,14,18,-6,5,51,14,33,55,0,42,11,15,9,7,150,364.42
10,28,21,35,45,15,25,13,10,12,-6,4,57,16,39,56,0,51,12,15,13,6,150,362.48
10,29,22,33,49,19,23,14,11,19,-6,4,48,16,34,62,0,36,12,15,8,10,150,362.48
10,29,20,33,47,12,23,15,12,11,-6,4,48,11,35,51,0,36,10,15,7,7,150,362.48
10,28,19,32,47,18,21,13,15,15,-6,5,53,16,36,57,0,46,13,15,11,5,150,357.89
10,29,20,31,47,18,20,13,15,17,-6,5,53,18,36,51,0,51,11,15,11,5,150,357.89
9,27,18,32,46,18,20,15,14,18,-6,7,52,18,33,62,0,41,11,15,8,7,150,356.50
10,28,18,30,48,16,20,14,14,20,-6,6,54,17,35,50,0,39,11,15,8,6,150,355.98
10,27,19,32,45,17,20,13,14,19,-6,5,54,20,38,49,0,40,12,15,12,2,150,355.98
10,27,20,30,46,17,19,14,18,16,-6,6,54,15,38,61,0,47,12,15,10,5,150,355.98
9,28,19,28,47,17,16,16,21,20,-6,6,52,15,40,54,0,54,9,15,7,2,150,350.36
9,26,16,29,49,19,16,14,20,20,-6,7,54,16,35,56,0,57,11,15,12,4,150,350.36
9,27,16,29,49,20,18,12,20,19,-6,7,56,15,33,60,0,58,11,15,13,5,150,350.36
9,27,18,29,47,18,16,15,22,19,-6,6,51,14,37,59,0,52,10,15,10,4,150,350.36
9,27,23,34,50,23,20,10,23,13,-6,3,48,12,30,70,0,60,15,15,15,6,150,345.84
9,28,18,32,49,20,19,12,15,20,-6,5,54,18,33,56,0,45,13,15,11,5,150,344.53
9,27,19,31,49,16,20,12,17,19,-6,6,57,16,33,53,0,43,13,15,8,2,150,344.53
9,28,15,32,48,18,18,15,13,12,-6,5,51,13,34,41,0,37,15,15,11,7,150,342.93
9,28,16,31,48,18,19,13,15,18,-6,6,55,19,33,55,0,46,12,15,9,5,150,342.93
9,26,17,32,47,20,18,14,12,17,-6,7,57,21,32,70,0,42,10,15,11,4,150,342.93
9,27,17,30,48,20,18,12,17,18,-6,5,55,14,33,55,0,55,13,15,13,3,150,342.93
9,27,18,31,48,19,20,12,16,19,-6,6,56,17,34,58,0,55,13,15,12,2,150,342.93
10,28,20,32,44,22,16,15,16,19,-6,4,48,18,38,59,0,39,12,12,7,5,150,338.56
10,29,19,30,47,21,19,14,15,18,-6,5,52,15,36,57,0,48,12,15,11,6,150,332.38
9,29,20,30,47,19,19,13,16,21,-6,6,53,18,35,49,0,48,10,15,8,4,150,329.68
9,28,19,30,48,18,18,13,18,21,-6,5,51,15,34,54,0,42,11,15,8,6,150,327.81
10,30,17,29,49,17,16,14,18,16,-6,7,51,17,37,50,0,41,10,15,8,6,150,327.16
9,26,18,30,49,19,18,12,21,17,-6,6,54,18,33,58,0,51,13,15,13,5,150,325.81
9,28,18,31,49,19,19,11,20,15,-6,5,55,13,32,49,0,56,14,15,12,6,150,325.81
10,27,18,29,49,17,16,13,17,19,-6,5,51,14,33,43,0,41,10,13,10,4,150,325.61
10,28,16,29,49,15,17,12,20,18,-6,6,54,15,32,49,0,46,13,15,9,3,150,325.61
10,26,20,28,48,15,18,14,19,16,-6,6,56,16,35,46,0,48,13,12,9,2,150,325.61
10,30,18,28,46,17,12,18,15,17,-6,7,49,11,37,66,0,32,10,15,7,7,150,325.61
10,28,21,32,44,15,20,13,14,17,-6,5,53,19,38,59,0,40,12,15,9,4,150,325.15
10,28,21,31,45,16,19,12,19,18,-6,5,53,18,35,52,0,49,11,15,10,5,150,325.15
10,27,23,30,45,15,17,14,16,17,-6,6,54,20,32,54,0,32,12,11,11,3,150,325.15
10,29,19,33,49,19,18,13,17,15,-6,6,54,12,35,54,0,50,13,15,11,8,150,325.15
10,26,23,35,40,14,24,13,10,20,-6,5,54,25,43,44,0,32,12,15,15,0,150,323.69
9,31,22,29,45,18,21,12,13,21,-6,6,51,18,34,41,0,47,8,15,5,4,150,322.43
10,28,18,30,48,17,17,13,20,17,-6,6,49,15,33,48,0,43,10,15,7,4,150,319.22
10,30,15,29,50,16,16,17,20,16,-6,6,45,10,32,48,0,32,8,15,4,10,150,318.45
10,28,18,31,48,19,18,13,18,18,-6,6,54,15,35,54,0,50,12,15,11,5,150,317.68
9,29,19,28,47,17,16,16,19,21,-6,6,44,10,38,49,0,30,11,15,5,12,150,312.55
9,29,20,31,49,17,18,14,17,21,-6,4,45,11,34,52,0,30,10,15,4,10,150,311.86
9,27,18,28,48,17,16,13,18,16,-6,5,56,18,35,48,0,40,13,13,11,3,150,309.03
10,28,25,32,47,17,21,11,21,20,-6,4,49,15,37,59,0,50,9,15,7,7,150,305.69
9,29,18,31,49,21,20,13,18,17,-6,6,55,14,33,60,0,51,12,15,8,4,150,305.13
9,26,17,32,46,19,18,12,17,19,-6,6,56,20,33,61,0,55,13,15,12,4,150,305.05
9,26,18,32,45,18,20,11,16,18,-6,4,54,17,36,60,0,54,12,15,12,3,150,305.05
9,26,21,32,46,18,20,11,19,16,-6,6,55,16,34,51,0,52,14,15,13,4,150,305.05
9,27,16,31,49,19,16,12,19,16,-6,6,56,14,33,51,0,52,10,15,11,3,150,305.05
10,29,19,29,47,18,17,14,19,16,-6,6,52,14,36,51,0,46,11,15,10,5,150,301.68
10,28,19,29,47,19,17,14,19,18,-6,6,52,18,36,58,0,48,11,15,9,5,150,301.68
10,27,15,35,50,21,25,10,10,14,-5,3,57,10,36,57,0,35,10,15,7,2,150,300.87
9,29,20,28,49,18,20,12,19,17,-5,5,51,18,41,55,0,37,12,14,12,3,150,300.38
9,25,23,32,49,22,21,14,15,29,-4,3,54,21,41,70,0,60,11,15,10,4,150,299.65
10,28,19,35,50,24,21,10,12,23,-6,4,54,21,30,62,0,43,15,15,10,8,150,298.89
9,28,17,32,47,18,20,14,17,19,-5,6,56,14,34,55,0,55,13,15,12,6,150,298.63
9,28,17,29,48,16,18,15,19,19,-5,6,52,14,37,49,0,43,11,15,12,4,150,298.63
10,27,17,32,49,20,20,12,15,18,-5,5,55,14,35,55,0,44,11,15,9,3,150,297.26
10,29,19,32,48,20,16,13,19,18,-5,6,50,18,33,52,0,52,11,15,11,4,150,296.56
10,28,20,31,46,17,20,12,14,19,-5,6,58,18,37,60,0,42,12,15,13,3,150,295.75
10,28,24,34,40,14,24,10,10,23,-5,4,60,20,40,54,0,38,15,15,12,0,150,295.50
10,27,25,35,38,12,25,11,10,22,-5,4,60,18,44,44,0,28,15,13,9,0,150,295.50
9,26,19,31,48,19,19,12,19,22,-6,6,54,17,36,55,0,55,12,15,10,4,150,295.09
10,28,18,31,45,18,20,13,16,23,-6,5,56,19,38,57,0,55,12,15,11,4,150,294.37
10,27,20,30,45,19,20,12,19,19,-6,6,56,19,38,61,0,50,13,15,10,4,150,294.32
10,28,18,32,47,19,18,13,19,17,-6,6,50,16,34,62,0,52,12,15,12,6,150,294.32
10,26,25,35,42,16,25,10,10,17,-6,4,60,20,39,59,0,58,15,15,15,0,150,293.67
9,27,18,31,48,17,18,14,16,20,-5,6,56,16,35,57,0,50,12,15,11,6,150,293.53
9,28,15,27,46,12,15,17,18,13,-6,7,54,12,37,43,0,46,10,15,11,1,150,293.51
10,29,20,30,48,20,21,13,13,15,-5,7,54,13,34,60,0,44,12,15,11,4,150,292.46
10,28,18,31,46,16,15,15,14,18,-5,6,49,20,36,47,0,36,12,15,12,0,150,291.82
10,28,21,32,49,16,21,12,12,19,-5,4,52,14,33,51,0,42,11,15,10,7,150,291.67
10,26,24,32,48,23,19,12,23,19,-6,3,55,19,34,55,0,60,15,15,15,6,150,291.63
10,29,19,30,47,19,19,13,18,21,-6,6,51,15,36,55,0,45,11,15,9,6,150,291.56
9,28,17,29,50,16,22,12,19,17,-6,4,49,10,30,61,0,56,8,15,7,7,150,289.81
10,27,19,31,48,21,20,14,16,21,-6,5,53,17,36,60,0,52,11,15,10,7,150,289.79
9,27,19,32,49,18,19,14,17,23,-6,4,49,20,35,56,0,43,12,15,8,9,150,288.92
9,29,17,28,50,17,14,15,23,21,-5,6,45,13,30,49,0,33,10,15,3,5,150,288.65
10,29,17,30,50,13,24,16,13,18,-5,3,57,10,33,70,0,41,15,15,13,6,150,288.54
10,29,21,26,45,13,18,18,19,15,-6,7,48,11,43,52,0,45,7,15,8,5,150,288.53
10,28,20,31,48,19,20,13,15,18,-5,6,53,15,34,58,0,45,12,15,10,5,150,287.70
9,27,18,32,48,19,19,14,19,23,-6,5,52,20,37,59,0,54,11,15,9,5,150,287.16
10,27,20,32,45,21,18,13,16,22,-6,5,54,19,39,63,0,52,12,15,12,3,150,287.09
9,25,15,31,50,20,14,13,23,19,-5,5,57,16,35,65,0,52,15,15,15,4,150,287.07
9,27,19,30,48,19,17,15,18,24,-5,5,52,19,38,61,0,48,12,15,9,6,150,287.07
9,28,18,28,50,20,14,10,25,22,-5,5,57,17,36,44,0,60,14,15,14,0,150,287.07
10,28,21,30,47,22,21,13,14,20,-5,6,52,18,34,64,0,52,12,15,12,4,150,286.86
10,28,22,33,47,14,24,14,10,15,-6,5,50,10,30,52,0,38,9,15,7,9,150,286.49
10,27,19,31,46,22,13,13,19,23,-5,7,58,23,39,49,0,44,15,15,14,2,150,285.51
10,27,23,30,47,16,16,14,19,16,-5,5,56,18,37,53,0,42,12,11,10,4,150,285.46

