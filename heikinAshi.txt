--- Optimization Complete ---

Start                     2015-11-16 00:00:00
End                       2025-11-14 00:00:00
Duration                   3651 days 00:00:00
Exposure Time [%]                    83.65805
Equity Final [$]                 543511.39265
Equity Peak [$]                  561949.17575
Commissions [$]                    5778.13473
Return [%]                          443.51139
Buy & Hold Return [%]               226.94747
Return (Ann.) [%]                      18.486
Volatility (Ann.) [%]                14.31175
CAGR [%]                             12.39467
Sharpe Ratio                          1.29167
Sortino Ratio                         2.23425
Calmar Ratio                          1.63345
Alpha [%]                             343.929
Beta                                  0.43879
Max. Drawdown [%]                   -11.31717
Avg. Drawdown [%]                    -1.35041
Max. Drawdown Duration      246 days 00:00:00
Avg. Drawdown Duration       15 days 00:00:00
# Trades                                   12
Win Rate [%]                         66.66667
Best Trade [%]                       67.81106
Worst Trade [%]                      -4.07454
Avg. Trade [%]                       15.18018
Max. Trade Duration         855 days 00:00:00
Avg. Trade Duration         253 days 00:00:00
Profit Factor                         18.1598
Expectancy [%]                       17.45274
SQN                                   2.25433
Kelly Criterion                       0.62413
_strategy                 HeikinAshiWeight...
_equity_curve                             ...
_trades                       Size  EntryB...
dtype: object

--- Best Parameters ---
  atr_period: 11
  weight_bull_1: 0.23 | weight_bull_2: 0.19
  weight_bull_3: 0.3 | weight_bull_4: 0.54
  weight_bull_doji: 0.35
  weight_bull_bonus: 0.03 | weight_bear_bonus: 0.05
  weight_bull_penalty: 0.08 | weight_bear_penalty: 0.12
  weight_bear_1: 0.13 | weight_bear_2: 0.12
  weight_bear_3: 0.15 | weight_bear_4: 0.23
  weight_bear_doji: 0.34
  doji_body_frac: 0.15
  prior_idx: -6
  stop_atr_mult: 1.5
    rsi_period: 52
    rsi_lookback: 7
    rsi_bull_threshold: 30 | rsi_bear_threshold: 64
    weight_rsi_bull: 0.060 | weight_rsi_bear: 0.100
Plot saved as: HeikinAshi_weighted_2025-12-05.html  ||  Heatmap saved as: HeikinAshi_weighted_heatmap_2025-12-05.html

=== SAMBO Optimization Analysis ===
Total evaluations: 1820
Best result found: 18.62%

Parameter evolution:
  atr_period: 8.000 -> 20.000
  weight_bull_1: 20.000 -> 35.000
  weight_bull_2: 10.000 -> 30.000
  weight_bull_3: 20.000 -> 40.000
  weight_bull_4: 30.000 -> 60.000
  weight_bull_doji: 30.000 -> 50.000
  weight_bear_1: 10.000 -> 25.000
  weight_bear_2: 10.000 -> 25.000
  weight_bear_3: 10.000 -> 25.000
  weight_bear_4: 10.000 -> 25.000
  weight_bear_doji: 25.000 -> 40.000
  weight_bull_bonus: 0.000 -> 15.000
  weight_bear_bonus: 0.000 -> 15.000
  weight_bull_penalty: 0.000 -> 15.000
  weight_bear_penalty: 0.000 -> 15.000
  doji_body_frac: 10.000 -> 30.000
  prior_idx: -8.000 -> -4.000
  stop_atr_mult: 150.000 -> 150.000

Optimization Statistics:
  Total evaluations: 1820
  Best Return [%]: 18.62
  Worst Return [%]: -443.51
  Average Return [%]: -232.13
  Success: True
  Message: Optimization converged (y_prev[n_iter_no_change] - y_best <= tol)

--- Top 100 parameter sets (by Return [%]): (.csv) ---
atr_period,weight_bull_1,weight_bull_2,weight_bull_3,weight_bull_4,weight_bull_doji,weight_bear_1,weight_bear_2,weight_bear_3,weight_bear_4,weight_bear_doji,weight_bull_bonus,weight_bear_bonus,weight_bull_penalty,weight_bear_penalty,doji_body_frac,prior_idx,stop_atr_mult,rsi_period,rsi_lookback,rsi_bull_threshold,rsi_bear_threshold,weight_rsi_bull,weight_rsi_bear,Return [%]
11,23,19,30,54,35,13,12,15,23,34,3,5,8,12,15,-6,150,52,7,30,64,6,10,443.51
11,23,17,30,47,35,13,13,15,23,34,6,5,6,12,14,-6,150,52,7,29,62,6,9,435.59
11,23,18,27,47,37,14,12,15,23,36,5,5,6,11,15,-6,150,54,8,28,64,12,12,435.59
11,22,17,28,47,38,14,13,15,23,36,6,6,7,11,14,-6,150,51,8,24,63,12,10,435.59
11,22,16,28,50,37,13,13,14,23,36,4,6,6,12,14,-6,150,55,7,26,63,10,11,435.59
10,23,20,28,47,37,15,14,15,23,33,5,7,5,12,15,-6,150,50,8,28,64,10,11,433.48
11,22,17,28,52,35,13,11,15,24,36,3,5,6,14,15,-6,150,57,7,28,62,5,9,432.89
11,23,19,26,48,36,12,15,14,23,37,5,5,10,10,15,-6,150,51,7,28,64,7,10,432.89
11,26,19,26,48,35,15,13,17,20,34,5,4,10,10,15,-6,150,58,8,25,63,6,10,432.89
10,22,18,27,54,34,11,12,13,24,37,2,4,4,13,14,-6,150,52,7,24,63,7,10,432.28
10,23,17,26,56,35,11,12,15,24,35,2,6,8,13,15,-6,150,54,7,29,62,5,9,431.99
11,23,19,31,46,33,15,11,15,24,35,3,4,7,12,16,-6,150,55,7,28,63,6,10,431.33
11,23,17,29,47,37,14,14,14,24,34,4,7,5,12,15,-6,150,51,7,28,64,8,11,431.29
11,23,16,29,51,38,14,13,14,23,35,6,6,5,11,14,-6,150,53,8,28,63,9,11,431.29
11,23,19,29,46,36,14,12,16,23,35,4,6,6,11,16,-6,150,50,8,26,64,9,12,431.29
11,23,18,27,59,38,10,12,16,24,37,2,7,8,14,14,-6,150,48,6,30,62,4,8,430.72
11,22,18,27,48,36,14,13,16,23,36,5,7,7,11,15,-6,150,51,8,28,63,10,8,430.65
11,23,17,27,49,36,14,13,15,23,35,6,6,7,11,15,-6,150,52,8,26,64,11,10,430.09
12,23,17,28,51,37,14,13,15,23,36,6,5,8,11,14,-6,150,53,8,26,64,8,11,429.85
12,23,15,29,53,38,13,13,15,23,35,4,6,5,12,14,-6,150,51,7,27,63,10,10,429.82
10,22,17,30,52,35,14,11,15,24,36,5,3,7,13,15,-6,150,53,7,33,62,6,8,429.37
10,23,17,29,54,36,12,12,15,24,36,3,5,7,13,14,-6,150,56,7,29,63,6,10,429.37
11,22,19,28,48,38,14,15,13,23,36,5,7,7,10,14,-6,150,53,8,25,64,12,13,428.70
10,23,17,29,47,35,14,12,16,24,35,5,4,6,13,15,-6,150,52,7,29,63,8,8,428.04
10,23,18,27,47,36,15,12,16,24,34,7,4,7,12,15,-6,150,49,8,32,64,9,7,427.39
10,23,18,31,49,33,13,11,15,24,34,4,5,6,13,14,-6,150,57,7,30,63,6,9,427.08
11,23,21,32,50,34,14,11,15,24,34,4,5,8,13,15,-6,150,57,7,32,63,4,9,426.50
12,23,15,30,47,37,14,14,12,23,36,3,7,6,11,15,-6,150,54,7,28,64,10,9,426.20
11,23,18,29,47,36,14,13,15,23,36,5,6,6,12,15,-6,150,55,8,26,64,10,9,426.05
11,23,18,28,50,36,14,13,14,23,35,5,5,6,12,15,-6,150,54,7,26,63,9,9,425.82
11,23,18,29,52,38,14,14,16,23,35,4,6,6,11,15,-6,150,51,7,27,64,10,10,425.82
11,23,18,28,51,38,14,14,15,23,35,4,5,6,11,14,-6,150,52,7,26,64,10,10,425.82
11,23,20,28,52,37,14,12,15,23,34,3,6,7,12,15,-6,150,53,7,30,64,6,7,425.76
11,23,18,28,51,38,13,14,15,23,34,4,7,7,11,14,-6,150,54,8,24,64,13,9,425.29
11,23,17,29,50,38,14,13,16,23,36,4,7,8,12,15,-6,150,50,7,29,64,8,8,425.29
11,23,18,28,46,37,14,13,16,23,36,6,6,7,12,16,-6,150,50,8,26,64,12,8,425.29
11,23,29,30,42,30,13,13,17,23,29,3,6,13,13,17,-6,150,51,6,20,64,7,12,425.29
12,23,16,27,53,38,13,13,15,23,35,3,6,5,12,15,-6,150,53,7,28,64,7,10,424.73
12,24,16,27,52,37,13,13,16,23,34,4,5,6,11,16,-6,150,54,7,29,64,9,10,424.73
12,24,18,28,53,37,14,12,16,22,36,5,5,6,10,15,-6,150,49,7,28,64,9,9,424.73
12,23,16,30,47,37,14,13,15,23,34,5,4,8,13,14,-6,150,56,8,31,64,7,10,424.73
11,23,18,28,52,37,13,13,15,23,36,4,6,6,12,15,-6,150,53,7,27,63,8,11,419.16
12,23,15,27,46,38,13,14,15,23,34,3,7,6,13,15,-6,150,51,8,29,64,9,8,417.37
10,23,18,28,51,36,14,17,17,21,36,5,6,8,9,17,-6,150,40,9,30,66,4,9,417.17
10,24,19,28,54,36,13,12,16,23,35,5,4,4,12,16,-6,150,50,8,28,65,9,7,416.51
11,22,16,28,50,37,13,13,14,23,36,5,6,7,12,15,-6,150,54,7,26,62,11,11,416.17
11,23,15,30,49,36,13,14,16,23,35,5,7,5,11,15,-6,150,52,8,30,63,11,12,416.17
10,22,21,28,50,35,15,12,14,24,34,4,5,7,13,14,-6,150,52,8,26,62,8,9,415.73
11,21,18,26,48,37,12,13,15,24,35,3,7,5,13,15,-6,150,59,7,27,62,7,9,415.52
11,22,16,26,49,39,12,13,16,23,36,4,5,8,11,15,-6,150,51,7,27,64,6,10,415.52
11,23,19,31,51,34,13,11,17,23,37,5,3,3,14,14,-6,150,58,7,31,65,4,7,415.40
11,23,20,30,53,33,14,13,14,23,35,4,4,8,13,14,-6,150,55,8,26,64,9,12,415.32
10,22,19,25,52,33,14,14,14,23,33,4,3,7,13,14,-6,150,58,8,25,63,7,12,414.46
10,22,15,28,48,36,13,12,13,24,36,4,5,6,12,14,-6,150,58,8,26,63,10,11,414.46
10,22,20,30,53,33,17,12,12,24,36,2,2,5,14,16,-6,150,58,8,24,61,6,6,414.41
11,24,21,28,48,35,15,12,15,23,34,7,5,4,12,15,-6,150,51,8,29,65,12,12,414.04
12,22,17,29,43,36,17,14,12,22,35,6,4,3,10,14,-6,150,58,10,24,64,13,14,413.83
10,23,16,30,48,38,14,13,15,23,35,6,7,6,10,14,-6,150,51,7,26,63,9,9,413.47
11,24,19,28,49,36,13,11,18,23,33,6,4,6,12,14,-6,150,49,8,31,65,9,5,413.32
11,23,19,26,46,38,14,13,15,23,35,6,7,5,11,15,-6,150,52,8,29,64,8,8,413.28
12,24,20,30,50,36,13,12,15,23,33,5,4,9,14,16,-6,150,51,7,32,64,4,11,413.06
10,23,20,25,44,36,14,11,16,22,35,7,4,5,10,17,-6,150,53,8,30,65,14,12,412.77
12,20,21,23,45,37,10,12,16,25,34,0,8,4,15,16,-6,150,65,7,28,60,1,6,412.57
10,24,18,31,50,35,14,11,18,23,35,4,3,8,11,16,-6,150,49,7,32,64,5,8,412.24
10,22,16,29,50,35,13,13,14,24,36,4,4,6,11,14,-6,150,57,8,25,62,9,9,412.12
10,22,15,26,50,34,13,12,14,24,37,3,6,4,13,14,-6,150,57,8,24,63,11,10,411.48
11,22,19,25,51,36,16,13,15,23,34,5,5,8,14,15,-6,150,49,7,27,64,8,10,411.26
11,23,16,26,50,38,15,14,15,23,35,5,7,4,11,15,-6,150,50,7,25,64,8,11,411.22
11,23,18,31,48,38,13,13,16,23,35,6,6,5,11,15,-6,150,51,7,26,64,8,9,411.17
12,24,19,28,55,38,11,12,17,23,35,2,6,5,14,16,-6,150,51,6,29,63,5,10,411.06
9,22,14,26,52,36,12,11,16,24,34,6,4,5,14,15,-6,150,55,7,30,61,4,7,410.77
11,24,18,26,48,35,15,14,17,23,34,7,6,9,11,16,-6,150,48,8,25,65,12,9,410.55
11,24,23,32,60,33,12,10,18,23,32,1,4,11,12,16,-6,150,46,6,35,65,0,7,410.26
10,21,21,27,53,37,15,12,13,24,37,3,5,9,13,14,-6,150,49,7,26,62,7,6,410.01
11,22,19,29,50,35,14,13,14,23,36,4,6,5,11,14,-6,150,56,8,25,62,11,11,409.95
11,21,16,26,54,36,13,12,12,24,38,3,5,7,12,15,-6,150,59,7,28,63,7,14,409.57
9,22,14,25,52,35,14,11,14,24,35,6,4,4,14,16,-6,150,56,7,29,62,9,8,409.56
9,22,15,29,53,34,15,11,13,23,37,3,4,8,14,14,-6,150,49,7,27,62,7,6,409.51
11,23,18,30,47,37,14,13,14,23,36,5,6,7,12,15,-6,150,54,7,27,63,8,9,409.23
11,23,18,31,46,38,14,13,16,23,34,6,7,5,12,15,-6,150,52,8,28,64,12,10,409.23
10,23,19,30,47,38,14,13,16,23,35,5,7,8,11,16,-6,150,50,7,29,62,9,7,408.84
11,23,17,26,47,36,13,13,15,23,37,4,5,4,11,16,-6,150,50,8,29,64,11,12,406.51
12,22,17,28,47,39,20,15,11,22,35,5,4,2,10,14,-6,150,54,11,26,65,11,9,406.17
12,23,19,27,51,39,16,14,15,22,37,5,4,6,13,15,-6,150,52,8,27,64,8,11,405.54
12,23,14,30,59,41,13,12,17,23,35,3,7,4,14,15,-6,150,46,7,29,63,10,9,405.54
11,22,15,28,38,35,17,15,11,22,35,7,5,3,9,14,-6,150,64,11,22,64,18,15,404.74
9,22,10,29,43,36,14,11,16,24,34,8,2,6,14,14,-6,150,61,8,28,61,8,9,404.43
11,23,16,31,48,35,14,13,16,24,34,6,7,4,11,16,-6,150,50,7,29,64,7,10,404.43
11,22,18,30,47,35,15,13,14,23,34,4,5,7,12,16,-6,150,52,9,27,63,11,10,404.00
10,23,15,29,47,37,14,14,14,23,36,6,7,6,11,14,-6,150,51,8,28,63,13,11,403.78
10,23,17,28,45,36,15,13,16,23,33,7,6,4,11,16,-6,150,56,9,26,63,13,11,403.31
14,25,16,26,52,36,17,16,12,22,34,9,5,7,11,14,-6,150,44,9,26,63,11,8,403.30
12,24,17,30,50,37,14,14,16,23,34,6,6,7,13,16,-6,150,50,7,31,64,6,10,403.05
12,23,18,29,44,37,16,14,14,22,34,6,4,3,11,15,-6,150,54,8,25,64,13,10,401.99
11,23,18,29,46,36,17,13,14,23,35,3,4,6,12,15,-6,150,51,9,29,64,7,7,401.55
11,22,16,29,51,38,13,12,13,24,38,3,3,7,12,15,-6,150,58,7,26,62,11,11,401.45
9,22,13,28,45,34,13,11,13,24,36,4,5,6,12,14,-6,150,61,8,26,62,9,10,401.41
14,23,19,32,51,35,18,13,12,18,35,7,7,5,12,16,-6,150,59,9,24,68,11,13,401.40
11,22,17,30,52,34,16,15,12,23,37,4,5,2,9,13,-6,150,58,10,24,63,14,9,401.15
10,22,16,27,51,36,13,12,15,24,35,5,5,6,12,14,-6,150,55,7,28,62,8,10,401.11

