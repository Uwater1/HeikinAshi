--- Optimization Complete ---

Start                     2015-11-16 00:00:00
End                       2025-11-14 00:00:00
Duration                   3651 days 00:00:00
Exposure Time [%]                    85.24851
Equity Final [$]                  477002.7193
Equity Peak [$]                   493195.3111
Commissions [$]                    5486.50512
Return [%]                          377.00272
Buy & Hold Return [%]               226.52065
Return (Ann.) [%]                    16.94643
Volatility (Ann.) [%]                14.67648
CAGR [%]                             11.38661
Sharpe Ratio                          1.15467
Sortino Ratio                         1.93599
Calmar Ratio                           1.4517
Alpha [%]                           269.52808
Beta                                  0.47446
Max. Drawdown [%]                   -11.67352
Avg. Drawdown [%]                    -1.41378
Max. Drawdown Duration      239 days 00:00:00
Avg. Drawdown Duration       17 days 00:00:00
# Trades                                   12
Win Rate [%]                         58.33333
Best Trade [%]                       67.81106
Worst Trade [%]                      -4.07454
Avg. Trade [%]                       13.93205
Max. Trade Duration         832 days 00:00:00
Avg. Trade Duration         257 days 00:00:00
Profit Factor                        14.75436
Expectancy [%]                       16.03816
SQN                                   2.08594
Kelly Criterion                       0.53415
_strategy                 HeikinAshiWeight...
_equity_curve                             ...
_trades                       Size  EntryB...
dtype: object

--- Best Parameters ---
  atr_period: 11
  weight_bull_1: 0.23 | weight_bull_2: 0.25
  weight_bull_3: 0.27 | weight_bull_4: 0.4
  weight_bull_doji: 0.37
  weight_bull_bonus: 0.14 | weight_bear_bonus: 0.07
  weight_bull_penalty: 0.09 | weight_bear_penalty: 0.06
  weight_bear_1: 0.15 | weight_bear_2: 0.2
  weight_bear_3: 0.19 | weight_bear_4: 0.11
  weight_bear_doji: 0.32
  doji_body_frac: 0.14
  prior_idx: -6
  stop_atr_mult: 1.5
Plot saved as: HeikinAshi_weighted_2025-12-05.html  ||  Heatmap saved as: HeikinAshi_weighted_heatmap_2025-12-05.html

=== SAMBO Optimization Analysis ===
Total evaluations: 1447
Best result found: -35.88%

Parameter evolution:
  atr_period: 8.000 -> 20.000
  weight_bull_1: 20.000 -> 35.000
  weight_bull_2: 15.000 -> 30.000
  weight_bull_3: 20.000 -> 35.000
  weight_bull_4: 35.000 -> 50.000
  weight_bull_doji: 35.000 -> 45.000
  weight_bear_1: 10.000 -> 25.000
  weight_bear_2: 10.000 -> 25.000
  weight_bear_3: 10.000 -> 25.000
  weight_bear_4: 10.000 -> 25.000
  weight_bear_doji: 30.000 -> 40.000
  weight_bull_bonus: 0.000 -> 15.000
  weight_bear_bonus: 0.000 -> 15.000
  weight_bull_penalty: 0.000 -> 15.000
  weight_bear_penalty: 0.000 -> 15.000
  doji_body_frac: 10.000 -> 50.000
  prior_idx: -10.000 -> -2.000
  stop_atr_mult: 150.000 -> 150.000

Optimization Statistics:
  Total evaluations: 1447
  Best Return [%]: -35.88
  Worst Return [%]: -377.00
  Average Return [%]: -197.45
  Success: True
  Message: Optimization converged (y_prev[n_iter_no_change] - y_best <= tol)

--- Top 100 parameter sets (by Return [%]): (.csv) ---
atr_period,weight_bull_1,weight_bull_2,weight_bull_3,weight_bull_4,weight_bull_doji,weight_bear_1,weight_bear_2,weight_bear_3,weight_bear_4,weight_bear_doji,weight_bull_bonus,weight_bear_bonus,weight_bull_penalty,weight_bear_penalty,doji_body_frac,prior_idx,stop_atr_mult,Return [%]
11,23,25,27,40,37,15,20,19,11,32,14,7,9,6,14,-6,150,377.00
11,23,24,27,42,37,15,20,17,14,32,12,6,9,6,16,-6,150,377.00
10,24,23,28,40,39,15,19,20,13,32,13,5,10,7,15,-6,150,373.99
11,23,27,28,41,38,15,19,20,11,32,13,9,8,5,14,-6,150,371.41
11,24,25,27,40,37,14,20,17,12,32,14,6,9,6,16,-6,150,371.41
11,22,26,28,39,37,14,20,19,12,31,14,8,7,6,14,-6,150,371.41
12,21,27,32,37,36,19,16,19,11,32,13,7,5,8,16,-6,150,371.33
10,23,26,27,42,38,15,18,21,13,31,13,10,9,8,15,-6,150,363.00
10,23,24,27,45,37,16,16,18,12,34,12,9,5,5,18,-6,150,356.54
10,24,26,28,42,39,13,22,18,13,31,14,6,10,6,12,-6,150,354.33
10,22,23,30,43,39,17,18,19,13,32,13,10,5,8,15,-6,150,354.33
11,23,24,28,42,38,15,18,17,14,32,13,9,8,7,15,-6,150,351.95
11,23,22,26,44,40,15,17,17,16,32,13,9,8,4,16,-6,150,351.95
11,22,26,26,41,36,13,22,17,11,31,14,7,8,3,12,-6,150,351.95
11,24,24,26,42,39,13,19,19,14,31,13,10,8,5,16,-6,150,351.95
11,25,22,28,41,40,15,17,18,16,32,13,5,9,5,16,-6,150,351.95
11,25,22,27,43,40,15,18,18,15,32,13,7,8,6,16,-6,150,351.95
11,24,22,26,44,39,15,18,17,12,32,11,7,8,5,19,-6,150,351.95
11,24,23,27,43,39,15,20,16,14,32,13,10,8,5,15,-6,150,351.95
9,26,17,25,46,40,14,18,16,21,31,13,10,8,2,15,-6,150,350.94
9,25,19,24,48,41,12,20,16,19,31,12,10,6,2,14,-6,150,350.94
10,23,25,24,44,38,12,21,18,12,31,14,7,9,5,13,-6,150,349.15
10,22,25,29,39,37,13,22,19,10,31,14,7,12,7,12,-6,150,349.15
11,24,21,27,42,40,13,18,18,12,32,13,7,10,7,15,-6,150,347.87
11,23,25,28,42,40,13,21,17,16,31,13,7,9,7,13,-6,150,344.55
11,24,26,30,39,38,16,18,16,12,32,13,8,7,7,16,-6,150,340.28
11,25,26,28,40,38,15,19,17,13,32,14,5,7,6,17,-6,150,340.28
10,21,27,25,40,36,11,20,18,12,30,14,9,8,2,11,-6,150,337.01
12,23,23,27,41,39,15,17,17,14,32,13,7,8,5,16,-6,150,336.91
12,25,25,28,39,37,14,18,17,12,32,14,4,11,6,16,-6,150,336.91
12,24,24,29,40,39,15,18,17,14,32,13,7,8,5,16,-6,150,336.91
11,24,26,25,42,38,14,20,19,13,32,13,10,6,4,14,-6,150,333.37
10,20,26,32,41,38,17,19,21,12,30,13,15,5,10,15,-6,150,332.04
11,24,20,28,40,40,15,17,18,16,32,13,7,10,6,16,-6,150,331.89
10,22,25,26,40,38,13,22,18,12,31,14,7,11,5,12,-6,150,331.06
10,26,19,25,45,40,13,17,15,21,32,13,8,8,4,17,-6,150,330.50
10,21,15,23,49,43,10,20,17,15,32,13,11,12,3,11,-6,150,330.43
12,25,22,28,41,39,18,19,21,11,32,13,7,7,12,16,-6,150,329.92
10,23,22,25,43,39,13,18,18,11,31,14,6,12,3,12,-6,150,328.37
10,24,25,26,40,37,16,18,17,14,31,13,6,6,6,13,-6,150,328.37
10,23,26,24,43,38,16,20,15,12,31,13,8,5,6,20,-6,150,328.37
10,23,24,25,39,37,14,19,21,12,31,14,7,8,6,13,-6,150,326.98
12,23,22,29,41,38,16,17,19,12,31,14,10,10,5,12,-6,150,326.51
12,26,25,26,41,40,18,18,15,11,34,10,7,7,9,20,-6,150,325.66
11,22,26,29,38,37,14,18,18,10,32,14,5,12,8,17,-6,150,322.88
9,21,24,24,45,38,14,23,19,11,31,14,8,7,3,12,-6,150,322.52
9,23,23,24,43,37,14,22,19,12,31,14,9,9,5,13,-6,150,322.52
12,25,23,26,43,38,13,16,16,13,32,12,5,6,9,19,-5,150,321.84
10,26,23,24,43,40,17,19,18,16,33,13,6,7,7,16,-6,150,321.25
11,25,20,26,43,38,13,16,16,19,33,14,10,8,5,15,-6,150,316.46
11,24,20,27,45,40,12,17,13,20,34,13,10,8,6,14,-6,150,316.46
12,28,18,23,49,39,19,11,12,11,38,2,8,2,4,45,-5,150,315.93
11,23,20,28,43,38,14,17,17,13,32,12,5,7,7,19,-5,150,315.18
9,22,25,20,48,36,13,25,16,15,30,14,12,3,0,10,-6,150,315.03
12,25,17,27,40,40,16,15,15,18,33,12,8,8,4,19,-6,150,314.94
12,24,22,24,45,38,13,19,17,13,33,12,8,5,4,14,-6,150,314.24
12,22,26,30,44,38,13,17,18,12,31,13,10,10,4,12,-6,150,312.23
11,22,22,25,46,36,13,21,19,14,31,14,7,9,7,12,-6,150,311.85
11,25,26,27,40,36,13,21,14,14,33,15,5,8,5,18,-5,150,310.41
10,22,22,25,41,39,13,18,19,11,31,14,10,8,6,13,-6,150,310.20
10,22,27,29,38,36,13,22,15,11,31,14,6,7,4,13,-6,150,309.17
9,24,22,20,40,38,12,20,23,13,30,15,8,9,6,11,-6,150,308.95
10,24,22,21,43,39,10,24,19,10,32,15,6,14,5,11,-6,150,308.90
10,23,22,27,44,38,14,20,13,18,33,10,5,9,5,20,-6,150,308.40
10,23,23,26,41,36,15,18,15,12,31,13,6,7,5,13,-6,150,308.40
10,22,25,26,40,37,14,19,16,10,31,13,4,9,6,12,-6,150,308.40
9,20,27,32,38,37,10,24,20,10,30,15,6,15,8,10,-6,150,307.20
10,25,19,25,46,40,13,16,15,19,33,13,12,6,7,16,-6,150,307.04
12,24,23,30,44,38,16,16,13,18,32,11,11,5,8,16,-6,150,305.64
12,25,22,28,42,42,15,14,13,18,34,12,7,6,2,20,-6,150,305.64
10,25,21,26,46,39,12,19,14,19,32,11,7,6,4,17,-6,150,305.57
10,28,17,22,43,41,11,17,15,19,34,14,1,11,2,20,-6,150,305.17
10,23,23,24,44,38,14,18,17,14,33,12,8,8,6,15,-6,150,304.53
11,25,26,27,39,38,15,19,15,13,32,14,5,10,3,13,-6,150,303.83
12,24,25,28,47,40,12,16,16,18,33,13,7,7,10,19,-6,150,303.65
11,29,27,28,40,38,14,17,14,16,33,15,3,4,6,20,-6,150,302.24
9,22,24,27,43,36,13,21,19,14,31,14,5,7,7,13,-6,150,301.73
12,21,28,35,36,35,21,15,19,12,32,12,8,3,9,18,-6,150,299.74
12,24,23,25,45,40,12,18,13,17,34,12,9,7,6,18,-6,150,299.70
10,25,20,24,44,39,15,17,18,16,33,13,9,7,4,17,-6,150,298.36
10,26,16,26,47,42,16,19,17,18,32,11,7,7,8,17,-6,150,297.12
9,24,17,23,49,41,13,19,17,20,32,11,10,7,1,16,-6,150,295.21
9,30,21,23,39,42,23,14,15,16,38,11,3,8,12,29,-6,150,294.99
12,22,21,26,43,40,15,18,19,12,32,13,10,10,7,14,-6,150,294.86
10,20,23,35,45,40,21,17,21,12,32,12,12,1,13,18,-6,150,294.26
11,21,24,29,39,37,16,20,21,11,31,14,8,10,4,12,-6,150,292.84
11,25,22,25,41,39,13,19,17,14,32,14,5,10,5,16,-6,150,290.92
14,31,26,25,42,43,23,15,10,11,37,4,7,3,13,30,-6,150,289.57
11,28,20,30,38,42,17,13,19,19,34,12,1,11,6,20,-6,150,288.87
11,26,21,27,46,39,11,19,12,17,34,13,8,8,9,17,-5,150,287.80
11,25,25,26,41,39,14,17,18,12,32,9,5,11,6,21,-6,150,287.55
9,24,20,20,50,38,12,16,15,19,34,10,11,7,6,17,-6,150,287.17
10,23,26,28,39,36,13,22,15,11,32,14,4,10,4,17,-6,150,286.97
14,31,28,23,41,44,10,12,16,12,37,15,7,14,2,38,-5,150,285.11
9,26,20,30,39,42,15,17,20,16,32,11,4,11,8,17,-6,150,285.07
12,24,22,26,42,38,15,20,19,13,33,14,7,9,6,16,-6,150,285.04
12,22,27,33,35,37,14,17,18,10,33,15,2,15,11,21,-5,150,284.98
11,26,26,34,48,38,16,19,18,16,31,11,1,13,13,38,-6,150,283.73
10,26,23,25,40,39,18,17,17,13,34,13,5,9,8,20,-6,150,283.67
11,26,24,29,40,38,13,16,15,19,36,10,6,7,9,19,-6,150,283.56

