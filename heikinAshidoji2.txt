--- Optimization Complete ---

Start                     2015-11-16 00:00:00
End                       2025-11-14 00:00:00
Duration                   3651 days 00:00:00
Exposure Time [%]                    86.75944
Equity Final [$]                 523587.71107
Equity Peak [$]                  541345.13317
Commissions [$]                    5176.38231
Return [%]                          423.58771
Buy & Hold Return [%]               226.52065
Return (Ann.) [%]                    18.04345
Volatility (Ann.) [%]                  14.865
CAGR [%]                             12.10532
Sharpe Ratio                          1.21382
Sortino Ratio                         2.06559
Calmar Ratio                          1.58636
Alpha [%]                            315.6488
Beta                                  0.47651
Max. Drawdown [%]                   -11.37409
Avg. Drawdown [%]                    -1.38818
Max. Drawdown Duration      246 days 00:00:00
Avg. Drawdown Duration       16 days 00:00:00
# Trades                                   11
Win Rate [%]                         54.54545
Best Trade [%]                       67.81106
Worst Trade [%]                      -4.07454
Avg. Trade [%]                       16.26574
Max. Trade Duration         970 days 00:00:00
Avg. Trade Duration         286 days 00:00:00
Profit Factor                        15.60391
Expectancy [%]                        18.7132
SQN                                   2.24612
Kelly Criterion                       0.50837
_strategy                 HeikinAshiWeight...
_equity_curve                             ...
_trades                       Size  EntryB...
dtype: object

--- Best Parameters ---
  atr_period: 10
  weight_bull_1: 0.31 | weight_bull_2: 0.17
  weight_bull_3: 0.25 | weight_bull_4: 0.49
  weight_bull_doji: 0.36
  weight_bull_bonus: 0.15 | weight_bear_bonus: 0.12
  weight_bull_penalty: 0.04 | weight_bear_penalty: 0.12
  weight_bear_1: 0.12 | weight_bear_2: 0.14
  weight_bear_3: 0.17 | weight_bear_4: 0.18
  weight_bear_doji: 0.33
  doji_body_frac: 0.16
  prior_idx: -6
  stop_atr_mult: 1.5
Plot saved as: HeikinAshi_weighted_2025-12-05.html  ||  Heatmap saved as: HeikinAshi_weighted_heatmap_2025-12-05.html

=== SAMBO Optimization Analysis ===
Total evaluations: 2617
Best result found: -39.17%

Parameter evolution:
  atr_period: 8.000 -> 20.000
  weight_bull_1: 20.000 -> 35.000
  weight_bull_2: 15.000 -> 30.000
  weight_bull_3: 20.000 -> 35.000
  weight_bull_4: 35.000 -> 50.000
  weight_bull_doji: 35.000 -> 45.000
  weight_bear_1: 10.000 -> 25.000
  weight_bear_2: 10.000 -> 25.000
  weight_bear_3: 10.000 -> 25.000
  weight_bear_4: 10.000 -> 25.000
  weight_bear_doji: 30.000 -> 40.000
  weight_bull_bonus: 0.000 -> 15.000
  weight_bear_bonus: 0.000 -> 15.000
  weight_bull_penalty: 0.000 -> 15.000
  weight_bear_penalty: 0.000 -> 15.000
  doji_body_frac: 10.000 -> 30.000
  prior_idx: -8.000 -> -4.000
  stop_atr_mult: 150.000 -> 150.000

Optimization Statistics:
  Total evaluations: 2617
  Best Return [%]: -39.17
  Worst Return [%]: -423.59
  Average Return [%]: -221.07
  Success: True
  Message: Optimization converged (y_prev[n_iter_no_change] - y_best <= tol)

--- Top 100 parameter sets (by Return [%]): (.csv) ---
atr_period,weight_bull_1,weight_bull_2,weight_bull_3,weight_bull_4,weight_bull_doji,weight_bear_1,weight_bear_2,weight_bear_3,weight_bear_4,weight_bear_doji,weight_bull_bonus,weight_bear_bonus,weight_bull_penalty,weight_bear_penalty,doji_body_frac,prior_idx,stop_atr_mult,Return [%]
10,31,17,25,49,36,12,14,17,18,33,15,12,4,12,16,-6,150,423.59
10,28,19,25,48,36,11,14,17,18,36,14,10,3,11,14,-6,150,421.47
10,29,19,24,48,36,11,14,16,18,37,13,10,3,12,16,-6,150,421.47
10,27,18,26,48,35,10,11,17,19,36,13,10,1,12,14,-6,150,421.47
10,29,20,24,48,36,12,14,17,18,35,12,10,3,12,15,-6,150,420.13
10,27,20,26,48,36,12,14,17,18,35,14,11,3,10,14,-6,150,417.21
10,29,20,23,49,35,11,15,16,18,36,14,12,3,10,14,-6,150,408.63
10,29,19,25,48,35,12,14,17,18,36,13,11,3,11,15,-6,150,408.63
10,29,21,22,48,35,12,14,17,16,37,13,10,2,8,16,-6,150,408.63
10,29,20,24,48,36,11,14,18,17,35,14,10,4,10,14,-6,150,408.63
11,28,20,22,48,35,11,14,18,15,37,14,12,4,12,16,-6,150,407.06
11,25,19,24,47,36,12,13,19,17,36,13,10,4,8,15,-6,150,407.06
11,26,20,23,47,36,12,14,18,19,37,13,11,5,9,15,-6,150,407.06
10,28,19,25,47,36,13,13,19,16,34,14,11,4,9,15,-6,150,406.57
10,28,18,26,48,36,12,14,18,19,36,13,9,2,10,15,-6,150,406.57
10,27,21,23,48,36,11,14,18,17,36,14,10,4,7,16,-6,150,406.57
10,27,20,25,47,37,12,15,16,19,34,13,10,5,7,14,-6,150,406.57
10,28,18,26,48,36,12,14,18,17,35,13,10,2,10,15,-6,150,406.57
10,28,20,25,48,36,12,15,18,17,36,14,9,4,9,14,-6,150,406.57
10,26,19,25,48,36,12,15,18,17,34,14,10,3,8,14,-6,150,406.57
10,29,19,24,48,36,11,14,19,17,36,14,12,3,9,15,-6,150,406.57
10,29,19,23,49,36,12,15,17,20,35,13,10,4,8,15,-6,150,406.57
10,28,19,25,48,36,12,15,17,18,34,14,11,4,10,14,-6,150,406.57
10,28,21,25,47,36,13,15,18,19,35,14,11,5,10,14,-6,150,406.57
10,27,21,24,47,35,12,14,18,16,36,13,11,4,10,14,-6,150,406.57
10,32,17,27,50,36,10,11,15,23,34,15,13,0,10,15,-6,150,406.02
10,30,20,24,48,36,11,16,16,19,35,14,12,4,9,16,-6,150,405.26
10,29,19,25,48,36,12,15,16,20,35,12,10,3,11,15,-6,150,405.26
10,30,19,24,48,36,11,14,18,18,35,13,10,3,11,15,-6,150,405.26
11,29,23,22,49,36,12,16,16,16,36,12,9,5,11,16,-6,150,404.63
11,29,20,25,47,36,12,15,17,16,36,13,11,5,8,16,-6,150,404.63
11,29,21,23,48,36,11,16,15,16,37,14,12,4,8,15,-6,150,404.63
11,28,21,23,48,36,11,14,16,17,36,13,11,5,8,16,-6,150,404.63
11,28,21,23,48,36,12,13,16,20,37,13,10,4,9,15,-6,150,404.63
11,29,18,25,48,35,11,13,17,18,36,13,11,2,11,15,-6,150,404.63
11,30,19,23,49,36,11,13,16,19,37,14,11,3,10,16,-6,150,404.63
11,27,20,26,48,36,11,15,16,18,37,13,9,3,11,16,-6,150,404.63
11,27,20,26,48,36,12,16,15,20,36,14,10,3,7,15,-6,150,404.63
11,27,21,26,47,36,12,14,19,19,34,13,9,4,10,16,-6,150,404.63
11,27,21,26,47,36,13,16,16,19,34,13,11,4,9,15,-6,150,404.63
11,28,20,25,48,36,12,14,15,18,37,13,11,4,9,16,-6,150,404.63
11,26,21,26,48,36,12,15,17,18,35,13,9,3,11,15,-6,150,404.63
11,28,21,26,47,35,12,14,16,19,35,13,9,4,10,16,-6,150,404.63
10,26,16,25,47,36,11,13,17,18,36,13,10,3,8,15,-6,150,404.48
10,27,17,21,50,35,10,14,15,17,39,14,13,3,7,16,-6,150,404.48
10,28,18,22,49,35,11,12,16,20,34,15,12,5,10,15,-6,150,404.48
10,28,19,23,48,35,11,13,16,18,36,14,11,3,10,14,-6,150,404.48
10,28,18,24,48,35,11,13,17,19,35,14,11,4,11,15,-6,150,404.48
10,28,20,26,48,36,12,13,18,18,36,14,11,4,10,15,-6,150,404.46
10,28,21,23,48,36,12,15,19,16,37,14,9,4,11,15,-6,150,404.01
12,25,22,21,47,36,13,15,16,17,36,12,9,6,8,16,-6,150,403.29
11,28,18,24,48,35,11,13,16,20,36,13,10,3,10,15,-6,150,402.59
11,27,19,24,48,36,12,15,18,18,35,13,11,3,9,16,-6,150,402.59
11,27,20,24,48,36,11,13,16,16,37,14,11,4,8,16,-6,150,402.59
11,27,21,25,46,36,13,14,16,19,36,12,8,5,10,15,-6,150,402.59
11,27,19,25,48,36,12,14,17,20,36,14,11,4,7,15,-6,150,402.59
11,27,19,26,47,36,12,13,17,17,36,13,9,4,12,16,-6,150,402.59
11,25,19,25,47,36,11,13,17,17,36,12,8,1,10,17,-6,150,402.59
11,26,20,25,46,36,13,16,15,18,34,12,8,5,8,15,-6,150,402.59
11,26,20,26,48,36,12,15,16,18,36,13,10,4,10,15,-6,150,402.59
11,27,17,27,48,36,11,13,17,19,34,13,11,3,10,16,-6,150,402.59
11,26,22,22,46,38,13,16,15,18,35,12,8,6,6,15,-6,150,402.59
11,26,21,28,44,36,12,16,16,19,35,11,9,5,7,16,-6,150,402.59
11,26,22,24,47,36,13,13,15,18,36,13,10,4,8,15,-6,150,402.59
11,28,17,25,49,36,12,13,17,18,36,13,10,2,12,16,-6,150,402.59
11,26,21,24,47,35,12,13,17,14,37,12,12,5,7,15,-6,150,402.59
11,26,19,24,48,36,12,15,16,16,37,13,11,2,9,15,-6,150,402.59
11,29,18,23,48,36,12,13,15,18,36,14,12,4,8,15,-6,150,402.59
11,27,18,25,48,36,12,14,18,18,36,13,12,4,9,16,-6,150,402.59
11,28,18,26,47,36,12,15,17,18,36,14,11,2,9,15,-6,150,402.59
11,27,21,24,48,36,12,15,17,16,34,13,10,4,11,15,-6,150,402.59
10,27,20,26,48,36,13,16,16,19,35,13,11,3,10,15,-6,150,402.40
10,26,21,26,47,36,13,13,18,18,35,13,9,4,11,15,-6,150,402.40
10,27,23,24,46,36,13,13,19,19,36,12,8,5,9,14,-6,150,402.40
11,29,20,23,48,36,12,14,19,19,36,13,9,5,11,16,-6,150,402.36
14,25,23,26,45,36,13,15,14,19,36,10,8,7,8,16,-6,150,402.05
11,29,23,25,46,36,13,13,19,17,36,12,8,4,10,16,-6,150,401.46
11,29,20,24,48,36,12,14,17,17,35,13,9,3,10,16,-6,150,401.46
11,29,20,26,47,35,12,14,16,19,35,13,11,3,11,16,-6,150,401.46
11,29,20,25,48,36,11,14,18,19,37,13,8,2,12,16,-6,150,401.46
11,29,18,27,47,36,11,13,19,17,35,13,9,3,9,15,-6,150,401.46
11,29,21,24,47,35,12,14,16,16,36,13,9,2,11,16,-6,150,401.46
11,29,22,27,45,35,13,13,16,17,35,12,8,4,10,16,-6,150,401.46
11,29,22,24,47,36,13,15,18,18,34,11,9,4,13,16,-6,150,401.46
11,28,23,25,46,36,13,16,15,16,35,12,10,6,8,16,-6,150,401.46
11,28,21,25,47,36,12,14,16,19,36,12,10,4,10,15,-6,150,401.46
11,28,22,26,46,36,12,15,18,19,35,12,9,4,8,16,-6,150,401.46
11,28,20,25,48,36,12,13,19,16,37,13,10,3,12,15,-6,150,401.46
11,28,24,23,48,35,13,13,19,15,36,13,9,3,10,15,-6,150,401.46
11,28,21,25,47,36,13,14,17,19,36,13,10,4,9,15,-6,150,401.46
11,27,24,26,46,36,13,16,16,19,34,12,8,5,8,15,-6,150,401.46
11,28,19,25,48,36,11,15,16,20,37,13,11,2,11,16,-6,150,401.46
11,26,24,24,47,36,12,15,15,18,38,12,9,3,10,16,-6,150,401.46
11,28,20,26,48,36,12,15,16,18,34,14,9,3,12,15,-6,150,401.46
11,28,20,26,47,36,13,15,17,19,34,13,11,3,10,15,-6,150,401.46
11,27,20,25,48,36,12,13,16,18,35,13,11,2,10,15,-6,150,401.46
11,27,22,25,47,36,12,14,17,16,35,13,9,4,11,15,-6,150,401.46
11,31,19,24,48,36,11,15,18,18,34,13,11,4,10,15,-6,150,401.46
11,29,21,24,48,36,12,13,18,18,36,14,10,4,10,15,-6,150,401.46
11,30,19,26,48,36,12,14,16,17,35,13,11,3,10,16,-6,150,401.46

